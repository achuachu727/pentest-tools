import subprocess

def check_ping(ip_address):
    try:
        # Adjust the number of ping packets (count) and timeout (timeout) as needed
        subprocess.run(['ping', '-c', '3', '-W', '1', ip_address], check=True)
        return True
    except subprocess.CalledProcessError:
        return False

def main():
    filename = input("Enter the path to the file containing IP addresses: ")
    success_file = "ping_success.txt"
    fail_file = "ping_fail.txt"

    try:
        with open(filename, 'r') as file:
            ip_addresses = file.read().splitlines()

        with open(success_file, 'w') as success_output, open(fail_file, 'w') as fail_output:
            for ip_address in ip_addresses:
                if check_ping(ip_address):
                    success_output.write(ip_address + '\n')
                else:
                    fail_output.write(ip_address + '\n')

        print("Ping results written to 'ping_success.txt' and 'ping_fail.txt' files.")
    except FileNotFoundError:
        print(f"File '{filename}' not found.")
    except Exception as e:
        print(f"An error occurred: {str(e)}")

if __name__ == "__main__":
    main()
