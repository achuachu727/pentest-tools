import os

def list_files():
    files = os.listdir('.')
    py_files = [file for file in files if file.endswith('.py')]
    return py_files

def run_file(filename):
    try:
        exec(open(filename).read(), globals())
    except Exception as e:
        print(f"An error occurred while executing {filename}: {str(e)}")

def main():
    files = list_files()
    print("Available Python files:")
    for i, file in enumerate(files):
        print(f"{i + 1}. {file}")

    while True:
        choice = input("Enter the number of the file you want to run (or 'q' to quit): ")
        if choice.lower() == 'q':
            break

        try:
            choice = int(choice)
            if 1 <= choice <= len(files):
                file_to_run = files[choice - 1]
                run_file(file_to_run)
                break
            else:
                print("Invalid choice. Please try again.")
        except ValueError:
            print("Invalid choice. Please try again.")

if __name__ == '__main__':
    main()
